@if(categories(); as categories) {
<div class="search">
  <lib-input-text
    type="text"
    [placeholder]="'category.search.placeholder' | transloco"
    [icon]="'search'"
    [formControl]="searchTextControl"
  ></lib-input-text>
  <div class="buttons">
    <lib-button (click)="onAdd()">{{ 'category.actions.add' | transloco }}</lib-button>
  </div>
</div>
<lib-table
  [data]="categories"
  [columns]="columns()"
  [sortDefinition]="sort()"
  [truncateHeaders]="true"
  [totalCount]="filteredCount()"
  [pageParameters]="page()"
  (sort)="onSort($event)"
  (page)="onPage($event)"
>
  <ng-template
    [libColumn]="{ propertyName: 'edit', type: 'COLUMN' }"
    let-item="item"
  >
    <svg-icon
      (click)="categoryToEdit = item"
      class="c-pointer"
      src="icons/edit.svg"
      [svgStyle]="{ width: '18px', height: '18px' }"
    ></svg-icon>
  </ng-template>
  <ng-template
    [libColumn]="{ propertyName: 'delete', type: 'COLUMN' }"
    let-item="item"
  >
    <svg-icon
      (click)="onDelete(item.id)"
      class="c-pointer"
      src="icons/trash-2.svg"
      [svgStyle]="{ width: '18px', height: '18px' }"
    ></svg-icon>
  </ng-template>
</lib-table>
} @if (categoryToEdit) {
<lib-edit-category
  [category]="categoryToEdit"
  (closed)="onClose($event)"
></lib-edit-category>
}
