@if(questions()) {
<div class="search">
  <lib-input-text
    type="text"
    placeholder="Enter search text"
    [icon]="'search'"
    [formControl]="searchTextControl"
  ></lib-input-text>
  <div class="buttons">
    <button (click)="onImport()">Import</button>
    <button (click)="onExport()">Export</button>
    <button (click)="onAdd()">Add Question</button>
  </div>
</div>
<lib-table
  [data]="questions()"
  [columns]="columns"
  [sortDefinition]="sort()"
  [truncateHeaders]="true"
  (sort)="onSort($event)"
>
  <ng-template
    [libColumn]="{ propertyName: 'answer', type: 'COLUMN' }"
    let-item="item"
  >
    <div class="answer" [innerHTML]="item.answer | normalizeSpace"></div>
  </ng-template>
  <ng-template
    [libColumn]="{ propertyName: 'answerPl', type: 'COLUMN' }"
    let-item="item"
  >
    <div class="answer" [innerHTML]="item.answerPl | normalizeSpace"></div>
  </ng-template>
  <ng-template
    [libColumn]="{ propertyName: 'isActive', type: 'COLUMN' }"
    let-item="item"
  >
    <input class="p-events-none" type="checkbox" [checked]="item.isActive" />
  </ng-template>
  <ng-template
    [libColumn]="{ propertyName: 'options', type: 'COLUMN' }"
    let-item="item"
  >
    <svg-icon
      (click)="questionToEdit = item"
      class="c-pointer"
      src="icons/edit.svg"
      [svgStyle]="{ width: '18px', height: '18px' }"
    ></svg-icon>
    <svg-icon
      (click)="onDelete(item.id)"
      class="c-pointer margin-left-8"
      src="icons/trash-2.svg"
      [svgStyle]="{ width: '18px', height: '18px' }"
    ></svg-icon>
  </ng-template>
</lib-table>
} @if (questionToEdit) {
<lib-edit-question
  [question]="questionToEdit"
  [categoryOptionItemList]="categoryOptionItemList()"
  [qualificationOptionItemList]="qualificationOptionItemList()"
  (closed)="onClose($event)"
></lib-edit-question>
}
<input
  type="file"
  #csvReader
  name="Upload CSV"
  id="txtFileUpload"
  (change)="onFileSelected($event)"
  accept=".csv"
  hidden
/>
